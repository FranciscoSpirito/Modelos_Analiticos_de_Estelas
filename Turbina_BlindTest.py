from __future__ import division
import numpy as np
import matplotlib.pyplot as plt
# coding=utf-8


from Turbina import Turbina
from scipy import interpolate

class Turbina_BlindTest(Turbina):

    def __init__(self, coord):
        d_0 = 0.894
        super(Turbina_BlindTest, self).__init__(d_0, coord)

    def c_T_tabulado(self, U):
        U_tabulado = np.array([5.34202673849, 5.34821674812, 5.49082209468, 5.5499730956, 6.01282147805, 6.14282989546, 6.6362074002 , 6.8365631842 , 7.47107951259, 7.62747066874, 7.99417363535, 8.13802797218, 8.53843128522, 8.71133165447, 9.20644695454, 9.35789663044, 9.90858234027, 10.1559197559, 10.1631461122, 10.8569479944, 10.998877492 , 12.101280395 , 12.2276161803, 13.3325026775, 13.3434829036, 13.4034401628, 14.8538518879, 15.1387581127, 19.5078082327, 20.4491929249, 27.9830906435, 38.1138090374, 39.2301995964, 39.295480144 , 39.3269842268, 39.4887390637, 65.2758510091, 65.6065298926])
        c_T_tabulado = np.array([1.1165769166, 1.10234113227, 1.104641417, 1.09209267192, 1.07543862479, 1.06868057083, 1.06862544338, 1.04330601836, 1.02273510393, 1.00467465793, 0.990941599229, 0.973980338424, 0.958124139533, 0.941486356226, 0.919590797054, 0.905870026831, 0.882708383358, 0.861592864254, 0.863359370066, 0.824484594668, 0.815656436082, 0.771978992581, 0.764469311128, 0.741513143654, 0.737218903195, 0.737422358271, 0.668222782961, 0.651538568644, 0.397861884221, 0.381706732783, 0.300882883854, 0.239947674624, 0.237579050069, 0.232946082889, 0.236635820069, 0.235402739615, 0.181321292469, 0.181321292469])
        tck = interpolate.interp1d(U_tabulado, c_T_tabulado, kind='linear', fill_value=(0, 0), bounds_error=False)
        c_Tnew = tck(U)
        # tck = interpolate.splrep(U_tabulado, c_T_tabulado, s=0)
        # c_Tnew = interpolate.splev(U, tck, der=0)
        return c_Tnew

    def P_tabulado(self, U):
        Pnew = 0 ###??????
        return Pnew

    def c_P_tabulado(self, U):
        c_Pnew = 0 ###??????
        return c_Pnew
